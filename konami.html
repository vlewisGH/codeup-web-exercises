<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

    <title>Konami</title>
    <style>
        .hideMe{
            display:none;
        }
        .success{
            color: red;
            font-size: 10em;
        }
        .pokeDiv{
            border: 5px solid black;
            height: 400px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: 50% 50%;
        }
        #chooseBulbasuar{
            background-image: url("https://vignette.wikia.nocookie.net/videogames-fanon/images/4/44/Bulbasaur_Vines.png/revision/latest?cb=20150622002329");
        }
        #chooseSquitle{
            background-image: url("https://vignette.wikia.nocookie.net/deathbattle/images/1/1e/Squirtle_.png/revision/latest?cb=20151110214320");
        }
        #chooseCharmander{
            background-image: url("https://vignette.wikia.nocookie.net/pokemon/images/4/42/Oak_Charmander.png/revision/latest?cb=20151213041602");
        }

    </style>
</head>
<body>
    <div class="container border">
        <h1 class="text-center border border-primary">Enter the code to play my game</h1>

        <div id="surprise" ><!--class="hideMe"-->
            <h1>Pokemon!</h1>
            <div id="chooseOne">
                <h3 >Choose a pokemon</h3>
                <div class="row border border-primary">
                    <div id="chooseBulbasuar" class=" pokeDiv col-3"><h1>Bulbasaur</h1></div>
                    <div id="chooseSquitle" class="pokeDiv col-3"><h1>Squirtle</h1></div>
                    <div id="chooseCharmander" class="pokeDiv col-3"><h1>Charmander</h1></div>
                </div>
            </div>
            <div class="row hideMe">
                <div id="myPokemon" class="pokeDiv"></div>
                <div id="fightInfo" class="infoBox"></div>
                <div id="opponent"  class="pokeDiv"></div>
                <div id="controls"  class="buttonsDiv"></div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <script>

        (function() {
        'use strict';
        // Global variables:
            var myHp = 25;
            var oppHp = 25;
            var globalCounter = 0;

            var kCode = [
                "ArrowUp",
                "ArrowUp",
                "ArrowDown",
                "ArrowDown",
                "ArrowLeft",
                "ArrowRight",
                "ArrowLeft",
                "ArrowRight",
                "b",
                "a"
            ];
           var pokemonAry = [
               {
                   name: 'bulbasaur',
                   type: 'grass',
                   img: "https://vignette.wikia.nocookie.net/videogames-fanon/images/4/44/Bulbasaur_Vines.png/revision/latest?cb=20150622002329",
                   attacks:[
                   {
                       name: 'tackle',
                       attack: 5,
                       attack_gif: ""
                   },{
                       name: 'vine whip',
                       attack: 10,
                       attack_gif:''
                   }
                       ],
                   win_gif:''
               },{
                   name: 'squirtle',
                   type: 'water',
                   img:'https://vignette.wikia.nocookie.net/deathbattle/images/1/1e/Squirtle_.png/revision/latest?cb=20151110214320',
                   attacks:[
                   {
                       name: 'tackle',
                       attack: 5
                   },{
                       name: 'bubble',
                       attack: 10
                   }
                   ]
               },{
                   name: 'charmander',
                   type: 'fire',
                   img: 'https://vignette.wikia.nocookie.net/pokemon/images/4/42/Oak_Charmander.png/revision/latest?cb=20151213041602',
                   attacks:[{
                       name: 'tackle',
                       attack: 5
                   },{
                       name: 'ember',
                       attack: 10
                   }
                   ]
               }
            ];
            var playerPokemon = {};
            var opponentPokemon = pokemonAry[Math.floor(Math.random() * pokemonAry.length)];

            $('#chooseBulbasuar')

           // this function will be ran after ever attack to see if the player won or loss.
           function checkWinLoss(){
               if (myHp <= 0){
                   return 'loss';
               }else if(oppHp <= 0){
                   return 'win';
               }
               return 'neither';
           }

           // this function returns a modifier for the attack based on the attack's type.
           function checkAffinity(attackType,opponent){
               if(attackType === 'grass') {
                   switch (opponent) {
                       case 'grass':
                           return 1;
                       case 'fire':
                           return 0.5;
                       case 'water':
                           return 1.5;
                   }
               }else if(attackType === 'fire'){
                       switch(opponent){
                           case 'grass':
                               return 1.5;
                           case 'fire':
                               return 1;
                           case 'water':
                               return 0.5;
                        }
               }else if(attackType === 'water') {
                   switch (opponent) {
                       case 'grass':
                           return 1;
                       case 'fire':
                           return 0.5;
                       case 'water':
                           return 1.5;
                   }
               }
           }
           function attack(){

           }


            function konami(keyInput) {
                if (keyInput === kCode[globalCounter]) {
                    globalCounter++;
                    if (globalCounter === 10) {
                        console.log('success');
                        $('#surprise').removeClass('hideMe');
                    }
                } else {
                    globalCounter = 0;
                }
            }

            $(document).keyup(function (e) {
                console.log(e.key);
                console.log('global counter: ' + globalCounter);
                konami(e.key);
            });
        })();

    </script>

</body>
</html>